---
title: "[Docker] Docker ê¸°ì´ˆ: ì´ë¯¸ì§€ì™€ ì»¨í…Œì´ë„ˆì˜ ê´€ê³„"
description: "Docker ì´ë¯¸ì§€ì™€ ì»¨í…Œì´ë„ˆì˜ ê°œë…, ê·¸ë¦¬ê³  ë¹Œë“œë¶€í„° ì‹¤í–‰ê¹Œì§€ì˜ ì „ì²´ íë¦„ ì´í•´í•˜ê¸°"
category: "devops"
tags: ["docker", "container", "image", "basics"]
createdAt: "2025-12-30"
updatedAt: "2025-12-30"
published: true
---

## Docker ê¸°ì´ˆ: ì´ë¯¸ì§€ì™€ ì»¨í…Œì´ë„ˆì˜ ê´€ê³„

Dockerë¥¼ ì²˜ìŒ ì ‘í•˜ë©´ ì´ë¯¸ì§€ì™€ ì»¨í…Œì´ë„ˆë¼ëŠ” ìš©ì–´ê°€ ìì£¼ ë“±ì¥í•©ë‹ˆë‹¤. ë¹„ìŠ·í•´ ë³´ì´ì§€ë§Œ ì™„ì „íˆ ë‹¤ë¥¸ ê°œë…ì¸ë°, ì´ ë‘˜ì˜ ê´€ê³„ë¥¼ ëª…í™•íˆ ì´í•´í•˜ë©´ Dockerë¥¼ í›¨ì”¬ í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ì´ë¯¸ì§€ vs ì»¨í…Œì´ë„ˆ

### í•µì‹¬ ë¹„ìœ : ë¶•ì–´ë¹µ í‹€ê³¼ ë¶•ì–´ë¹µ

```mermaid
flowchart LR
    subgraph Image["ğŸ“¦ ì´ë¯¸ì§€ (Image)"]
        I[ë¶•ì–´ë¹µ í‹€<br/>ì„¤ê³„ë„<br/>í´ë˜ìŠ¤]
    end

    subgraph Containers["ğŸ ì»¨í…Œì´ë„ˆë“¤ (Containers)"]
        C1[ë¶•ì–´ë¹µ 1<br/>ì¸ìŠ¤í„´ìŠ¤ 1]
        C2[ë¶•ì–´ë¹µ 2<br/>ì¸ìŠ¤í„´ìŠ¤ 2]
        C3[ë¶•ì–´ë¹µ 3<br/>ì¸ìŠ¤í„´ìŠ¤ 3]
    end

    Image -->|docker run| C1
    Image -->|docker run| C2
    Image -->|docker run| C3

    style Image fill:#FFE4E1
    style Containers fill:#E8F8E8
```

| ê°œë… | ì´ë¯¸ì§€ (Image) | ì»¨í…Œì´ë„ˆ (Container) |
|------|---------------|---------------------|
| **ë¹„ìœ ** | ë¶•ì–´ë¹µ í‹€, ì„¤ê³„ë„ | ë¶•ì–´ë¹µ, ì‹¤ì œ ì œí’ˆ |
| **OOP ë¹„ìœ ** | í´ë˜ìŠ¤ (Class) | ì¸ìŠ¤í„´ìŠ¤ (Instance) |
| **íŠ¹ì„±** | ë¶ˆë³€ (Immutable) | ê°€ë³€ (Mutable) |
| **ìƒì„±** | `docker build` | `docker run` |
| **ê°œìˆ˜** | í•˜ë‚˜ | ì—¬ëŸ¬ ê°œ ê°€ëŠ¥ |

### í•µì‹¬ íŠ¹ì§•

**ì´ë¯¸ì§€ (Image)**
- âœ… ë¶ˆë³€ì˜ í…œí”Œë¦¿ (í•œë²ˆ ë§Œë“¤ë©´ ë³€í•˜ì§€ ì•ŠìŒ)
- âœ… ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì— í•„ìš”í•œ ëª¨ë“  ê²ƒ í¬í•¨
- âœ… í•˜ë‚˜ì˜ ì´ë¯¸ì§€ë¡œ ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆ ìƒì„± ê°€ëŠ¥
- âœ… ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì €ì¥/ê³µìœ  ê°€ëŠ¥ (Docker Hub ë“±)

**ì»¨í…Œì´ë„ˆ (Container)**
- âœ… ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ëœ ì‹¤í–‰ í™˜ê²½
- âœ… ë…ë¦½ëœ íŒŒì¼ ì‹œìŠ¤í…œ, ë„¤íŠ¸ì›Œí¬, í”„ë¡œì„¸ìŠ¤
- âœ… ì‹œì‘, ì¤‘ì§€, ì‚­ì œ ê°€ëŠ¥
- âœ… ì‚­ì œí•˜ë©´ ë‚´ë¶€ ë³€ê²½ì‚¬í•­ë„ í•¨ê»˜ ì‚­ì œë¨

---

## ë¹Œë“œì—ì„œ ì‹¤í–‰ê¹Œì§€

Dockerì˜ ì „ì²´ íë¦„ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

```mermaid
flowchart LR
    subgraph Build["ğŸ”¨ ë¹Œë“œ ë‹¨ê³„"]
        DF[Dockerfile] -->|docker build| IMG[ì´ë¯¸ì§€]
    end

    subgraph Run["â–¶ï¸ ì‹¤í–‰ ë‹¨ê³„"]
        IMG -->|docker run| CON[ì»¨í…Œì´ë„ˆ]
    end

    subgraph Registry["â˜ï¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬"]
        HUB[(Docker Hub)]
    end

    IMG -->|docker push| HUB
    HUB -->|docker pull| IMG

    style Build fill:#FFE4E1
    style Run fill:#E8F8E8
    style Registry fill:#E0FFFF
```

### 1ë‹¨ê³„: ë¹Œë“œ (Build)

Dockerfileì„ ê¸°ë°˜ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```bash
# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t my-app:1.0 .

# -t: íƒœê·¸(ì´ë¦„) ì§€ì •
# my-app: ì´ë¯¸ì§€ ì´ë¦„
# 1.0: ë²„ì „ íƒœê·¸
# .: ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸ (í˜„ì¬ ë””ë ‰í† ë¦¬)
```

```mermaid
flowchart TB
    subgraph BuildProcess["docker build ê³¼ì •"]
        D[Dockerfile] --> L1[Layer 1: FROM node:20]
        L1 --> L2[Layer 2: WORKDIR /app]
        L2 --> L3[Layer 3: COPY package.json]
        L3 --> L4[Layer 4: RUN npm install]
        L4 --> L5[Layer 5: COPY . .]
        L5 --> L6[Layer 6: CMD node app.js]
        L6 --> IMG[ìµœì¢… ì´ë¯¸ì§€: my-app:1.0]
    end

    style BuildProcess fill:#FFF8DC
```

### 2ë‹¨ê³„: ì‹¤í–‰ (Run)

ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê³  ì‹¤í–‰í•©ë‹ˆë‹¤.

```bash
# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker run -d -p 3000:3000 --name my-container my-app:1.0

# -d: ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ (detached)
# -p 3000:3000: í¬íŠ¸ ë§¤í•‘ (í˜¸ìŠ¤íŠ¸:ì»¨í…Œì´ë„ˆ)
# --name: ì»¨í…Œì´ë„ˆ ì´ë¦„ ì§€ì •
# my-app:1.0: ì‚¬ìš©í•  ì´ë¯¸ì§€
```

---

## í•˜ë‚˜ì˜ ì´ë¯¸ì§€, ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆ

ê°™ì€ ì´ë¯¸ì§€ë¡œ ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë¥¼ ë™ì‹œì— ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```mermaid
flowchart TB
    subgraph Image["ğŸ“¦ ì´ë¯¸ì§€: my-app:1.0"]
        IMG[ì• í”Œë¦¬ì¼€ì´ì…˜<br/>+ ì˜ì¡´ì„±<br/>+ ì„¤ì •]
    end

    subgraph Containers["ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆë“¤"]
        C1["ğŸŸ¢ my-app-1<br/>í¬íŠ¸: 3001"]
        C2["ğŸŸ¢ my-app-2<br/>í¬íŠ¸: 3002"]
        C3["ğŸŸ¢ my-app-3<br/>í¬íŠ¸: 3003"]
    end

    IMG --> C1
    IMG --> C2
    IMG --> C3

    style Image fill:#FFE4E1
    style Containers fill:#E8F8E8
```

```bash
# ê°™ì€ ì´ë¯¸ì§€ë¡œ 3ê°œì˜ ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker run -d -p 3001:3000 --name my-app-1 my-app:1.0
docker run -d -p 3002:3000 --name my-app-2 my-app:1.0
docker run -d -p 3003:3000 --name my-app-3 my-app:1.0
```

> ğŸ’¡ **ì‚¬ìš© ì‚¬ë¡€**: ë¡œë“œ ë°¸ëŸ°ì‹±, A/B í…ŒìŠ¤íŠ¸, ê°œë°œ/ìŠ¤í…Œì´ì§•/í”„ë¡œë•ì…˜ í™˜ê²½ ë¶„ë¦¬ ë“±

---

## ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´

### ì´ë¯¸ì§€ ê´€ë ¨

```bash
# ì´ë¯¸ì§€ ëª©ë¡ í™•ì¸
docker images

# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t my-app:1.0 .

# ì´ë¯¸ì§€ ì‚­ì œ
docker rmi my-app:1.0

# ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ ì •ë¦¬
docker image prune
```

### ì»¨í…Œì´ë„ˆ ê´€ë ¨

```bash
# ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ëª©ë¡
docker ps

# ëª¨ë“  ì»¨í…Œì´ë„ˆ ëª©ë¡ (ì¤‘ì§€ëœ ê²ƒ í¬í•¨)
docker ps -a

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker run -d -p 3000:3000 my-app:1.0

# ì»¨í…Œì´ë„ˆ ì¤‘ì§€
docker stop my-container

# ì»¨í…Œì´ë„ˆ ì‹œì‘ (ì¤‘ì§€ëœ ì»¨í…Œì´ë„ˆ)
docker start my-container

# ì»¨í…Œì´ë„ˆ ì‚­ì œ
docker rm my-container

# ì»¨í…Œì´ë„ˆ ë¡œê·¸ í™•ì¸
docker logs my-container
docker logs -f my-container  # ì‹¤ì‹œê°„
```

### ë””ë²„ê¹…

```bash
# ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆì— ì ‘ì†
docker exec -it my-container /bin/sh

# ì»¨í…Œì´ë„ˆ ìƒì„¸ ì •ë³´
docker inspect my-container
```

---

## docker build vs docker run

ì´ ë‘ ëª…ë ¹ì–´ì˜ ì°¨ì´ë¥¼ ëª…í™•íˆ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.

```mermaid
flowchart LR
    subgraph dockerBuild["docker build"]
        B1["Dockerfile ì½ê¸°"]
        B2["RUN ëª…ë ¹ì–´ ì‹¤í–‰"]
        B3["ì´ë¯¸ì§€ ìƒì„±"]
        B1 --> B2 --> B3
    end

    subgraph dockerRun["docker run"]
        R1["ì´ë¯¸ì§€ ë¡œë“œ"]
        R2["ì»¨í…Œì´ë„ˆ ìƒì„±"]
        R3["CMD ì‹¤í–‰"]
        R1 --> R2 --> R3
    end

    style dockerBuild fill:#FFE4E1
    style dockerRun fill:#E8F8E8
```

| ëª…ë ¹ì–´ | ëª©ì  | ê²°ê³¼ë¬¼ | ì‹¤í–‰ë˜ëŠ” Dockerfile ëª…ë ¹ì–´ |
|--------|------|--------|---------------------------|
| `docker build` | ì´ë¯¸ì§€ ìƒì„± | ì´ë¯¸ì§€ | `RUN` |
| `docker run` | ì»¨í…Œì´ë„ˆ ì‹¤í–‰ | ì»¨í…Œì´ë„ˆ | `CMD`, `ENTRYPOINT` |

---

## Docker Composeì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°

`docker-compose.yml`ì„ ì‚¬ìš©í•˜ë©´ ë¹Œë“œì™€ ì‹¤í–‰ì„ í•œ ë²ˆì— í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```yaml
# docker-compose.yml
version: "3.8"

services:
  backend:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
```

```bash
# ë¹Œë“œ + ì‹¤í–‰ (í•œ ë²ˆì—)
docker compose up --build

# ë¹Œë“œë§Œ
docker compose build

# ì‹¤í–‰ë§Œ (ì´ë¯¸ ë¹Œë“œëœ ì´ë¯¸ì§€ ì‚¬ìš©)
docker compose up
```

```mermaid
flowchart LR
    subgraph Compose["docker compose up --build"]
        A["docker-compose.yml"] --> B["1. docker build<br/>(ì´ë¯¸ì§€ ìƒì„±)"]
        B --> C["2. docker run<br/>(ì»¨í…Œì´ë„ˆ ì‹¤í–‰)"]
    end

    style Compose fill:#FFF8DC
```

---

## ì´ë¯¸ì§€ ë„¤ì´ë° ê·œì¹™

ì´ë¯¸ì§€ ì´ë¦„ì€ ë‹¤ìŒ í˜•ì‹ì„ ë”°ë¦…ë‹ˆë‹¤:

```
[ë ˆì§€ìŠ¤íŠ¸ë¦¬/][ì‚¬ìš©ì/]ì´ë¯¸ì§€ëª…[:íƒœê·¸]
```

```mermaid
flowchart LR
    subgraph Examples["ì´ë¯¸ì§€ ì´ë¦„ ì˜ˆì‹œ"]
        E1["node:20-alpine"]
        E2["redis:7"]
        E3["my-app:1.0"]
        E4["ghcr.io/user/my-app:latest"]
    end

    E1 --> E1_D["ê³µì‹ ì´ë¯¸ì§€, alpine íƒœê·¸"]
    E2 --> E2_D["ê³µì‹ ì´ë¯¸ì§€, ë²„ì „ 7"]
    E3 --> E3_D["ë¡œì»¬ ì´ë¯¸ì§€, ë²„ì „ 1.0"]
    E4 --> E4_D["GitHub ë ˆì§€ìŠ¤íŠ¸ë¦¬, latest íƒœê·¸"]
```

| í˜•ì‹ | ì˜ˆì‹œ | ì„¤ëª… |
|------|------|------|
| `ì´ë¯¸ì§€:íƒœê·¸` | `node:20` | ê³µì‹ ì´ë¯¸ì§€ |
| `ì‚¬ìš©ì/ì´ë¯¸ì§€:íƒœê·¸` | `library/node:20` | Docker Hub ì‚¬ìš©ì |
| `ë ˆì§€ìŠ¤íŠ¸ë¦¬/ì‚¬ìš©ì/ì´ë¯¸ì§€:íƒœê·¸` | `ghcr.io/user/app:1.0` | ì»¤ìŠ¤í…€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ |

> ğŸ’¡ **íŒ**: íƒœê·¸ë¥¼ ìƒëµí•˜ë©´ `:latest`ê°€ ì‚¬ìš©ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ í”„ë¡œë•ì…˜ì—ì„œëŠ” í•­ìƒ ëª…ì‹œì ì¸ ë²„ì „ íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”!

---

## ì»¨í…Œì´ë„ˆ ë¼ì´í”„ì‚¬ì´í´

```mermaid
stateDiagram-v2
    [*] --> Created: docker create
    Created --> Running: docker start
    Running --> Paused: docker pause
    Paused --> Running: docker unpause
    Running --> Stopped: docker stop
    Stopped --> Running: docker start
    Stopped --> [*]: docker rm
    Running --> [*]: docker rm -f

    note right of Running: docker run = create + start
```

| ìƒíƒœ | ì„¤ëª… | ê´€ë ¨ ëª…ë ¹ì–´ |
|------|------|------------|
| **Created** | ìƒì„±ë¨, ì‹¤í–‰ ì „ | `docker create` |
| **Running** | ì‹¤í–‰ ì¤‘ | `docker run`, `docker start` |
| **Paused** | ì¼ì‹œ ì¤‘ì§€ | `docker pause` |
| **Stopped** | ì¤‘ì§€ë¨ | `docker stop` |
| **Removed** | ì‚­ì œë¨ | `docker rm` |

---

## ì‹¤ì „ ì˜ˆì œ: ì „ì²´ íë¦„

```bash
# 1. Dockerfile ì‘ì„±
cat > Dockerfile << 'EOF'
FROM node:20-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
CMD ["node", "app.js"]
EOF

# 2. ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t my-node-app:1.0 .

# 3. ì´ë¯¸ì§€ í™•ì¸
docker images | grep my-node-app

# 4. ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker run -d -p 3000:3000 --name my-app my-node-app:1.0

# 5. ì»¨í…Œì´ë„ˆ í™•ì¸
docker ps

# 6. ë¡œê·¸ í™•ì¸
docker logs my-app

# 7. ì»¨í…Œì´ë„ˆ ì ‘ì†
docker exec -it my-app /bin/sh

# 8. ì •ë¦¬
docker stop my-app
docker rm my-app
docker rmi my-node-app:1.0
```

---

## ë§ˆì¹˜ë©°

Dockerì˜ í•µì‹¬ì€ ì´ë¯¸ì§€(ë¶ˆë³€ì˜ í…œí”Œë¦¿)ì™€ ì»¨í…Œì´ë„ˆ(ì‹¤í–‰ ì¤‘ì¸ ì¸ìŠ¤í„´ìŠ¤)ì˜ ê´€ê³„ì…ë‹ˆë‹¤. `docker build`ëŠ” ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê³  RUNì„ ì‹¤í–‰í•˜ë©°, `docker run`ì€ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ê³  CMDë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ë¯¸ì§€ì™€ ì»¨í…Œì´ë„ˆì˜ ê´€ê³„ë¥¼ í´ë˜ìŠ¤ì™€ ì¸ìŠ¤í„´ìŠ¤ë¡œ ìƒê°í•˜ë©´ ì§ê´€ì ìœ¼ë¡œ ì´í•´ë©ë‹ˆë‹¤.

ë‹¤ìŒ ê¸€ì—ì„œëŠ” Dockerì—ì„œ Prismaë¥¼ ì‚¬ìš©í•  ë•Œ ìì£¼ ë§Œë‚˜ëŠ” ë°”ì´ë„ˆë¦¬ íƒ€ê²Ÿ ë¬¸ì œë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.
